# YouTubeæœç´¢APIå·¥å…·

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„YouTubeæœç´¢å·¥å…·ï¼Œæ”¯æŒæœç´¢è§†é¢‘ã€è·å–é¢‘é“ä¿¡æ¯å’Œè¯„è®ºæ•°æ®ï¼Œå¹¶æä¾›äº†åˆ†é¡µæœç´¢åŠŸèƒ½æ¥çªç ´APIçš„å•æ¬¡æŸ¥è¯¢é™åˆ¶ã€‚

## âœ¨ æœ€æ–°åŠŸèƒ½

### ğŸ•’ æ—¶é—´ç­›é€‰åŠŸèƒ½ (NEW!)
- æ”¯æŒæŒ‰å‘å¸ƒæ—¶é—´èŒƒå›´ç­›é€‰è§†é¢‘
- å¯è®¾ç½®å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´
- æ”¯æŒå‘½ä»¤è¡Œã€ç¯å¢ƒå˜é‡å’ŒGitHub Actionsè°ƒç”¨

### ğŸŒ HTTP APIè°ƒç”¨ (NEW!)
- æ”¯æŒé€šè¿‡HTTP APIè¿œç¨‹è§¦å‘GitHub Actions
- æ— éœ€æœ¬åœ°ç¯å¢ƒï¼Œç›´æ¥è°ƒç”¨äº‘ç«¯æ‰§è¡Œ
- æ”¯æŒæ‰€æœ‰åŠŸèƒ½æ¨¡å¼ï¼ˆæœç´¢ã€è¯„è®ºã€é¢‘é“ï¼‰

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. è§†é¢‘æœç´¢ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- ğŸ” **æ™ºèƒ½åˆ†é¡µæœç´¢**ï¼šè‡ªåŠ¨çªç ´YouTube APIå•æ¬¡50æ¡ç»“æœçš„é™åˆ¶
- ğŸ“Š **é…é¢ä¼˜åŒ–**ï¼šæ ¹æ®éœ€æ±‚ç²¾ç¡®æ§åˆ¶APIè°ƒç”¨æ¬¡æ•°ï¼Œé¿å…æµªè´¹
- ğŸ¯ **çµæ´»ç»“æœæ•°**ï¼šæ”¯æŒè·å–ä»»æ„æ•°é‡çš„æœç´¢ç»“æœï¼ˆç†è®ºä¸Šæ— ä¸Šé™ï¼‰
- ğŸ’° **æˆæœ¬é€æ˜**ï¼šå®æ—¶æ˜¾ç¤ºAPIé…é¢æ¶ˆè€—æƒ…å†µ

### 2. é¢‘é“ä¿¡æ¯è·å–
- ğŸ“º è·å–é¢‘é“åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€è®¢é˜…æ•°ç­‰ï¼‰
- ğŸŒ **æ–°å¢**ï¼šé¢‘é“å›½å®¶ä¿¡æ¯æ”¯æŒ
- ğŸ“¹ æ‰¹é‡è·å–é¢‘é“æ‰€æœ‰è§†é¢‘
- ğŸ“Š è¯¦ç»†çš„é¢‘é“ç»Ÿè®¡æ•°æ®

### 3. è¯„è®ºæ•°æ®è·å–
- ğŸ’¬ è·å–è§†é¢‘è¯„è®ºå’Œå›å¤
- ğŸ‘¥ è¯„è®ºè€…ä¿¡æ¯å’Œäº’åŠ¨æ•°æ®
- ğŸ”„ æ”¯æŒåˆ†é¡µè·å–å¤§é‡è¯„è®º

## ğŸ“ˆ åˆ†é¡µæœç´¢åŠŸèƒ½è¯¦è§£

### é—®é¢˜èƒŒæ™¯
YouTube Data API v3 çš„æœç´¢æ¥å£å•æ¬¡æœ€å¤šåªèƒ½è¿”å›50æ¡ç»“æœï¼Œè¿™å¯¹äºéœ€è¦å¤§é‡æ•°æ®çš„åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªé™åˆ¶ã€‚

### è§£å†³æ–¹æ¡ˆ
æˆ‘ä»¬çš„åˆ†é¡µæœç´¢åŠŸèƒ½é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

1. **è‡ªåŠ¨åˆ†é¡µ**ï¼šä½¿ç”¨ `nextPageToken` è‡ªåŠ¨è·å–åç»­é¡µé¢
2. **æ™ºèƒ½æ‰¹å¤„ç†**ï¼šæ ¹æ®ç›®æ ‡æ•°é‡æ™ºèƒ½è®¡ç®—æ¯æ¬¡è¯·æ±‚çš„ç»“æœæ•°
3. **é…é¢ä¼˜åŒ–**ï¼šåªè¯·æ±‚éœ€è¦çš„æ•°é‡ï¼Œé¿å…è¿‡åº¦æ¶ˆè€—
4. **é€æ˜è®¡è´¹**ï¼šå®æ—¶æ˜¾ç¤ºæ¯æ¬¡è¯·æ±‚çš„é…é¢æ¶ˆè€—

### é…é¢æ¶ˆè€—è¯´æ˜

| ç»“æœæ•°é‡ | æœç´¢è¯·æ±‚æ¬¡æ•° | è§†é¢‘è¯¦æƒ…è¯·æ±‚æ¬¡æ•° | æ€»é…é¢æ¶ˆè€— |
|---------|-------------|----------------|------------|
| 1-50    | 1æ¬¡ (100é…é¢) | 1æ¬¡ (1é…é¢)   | 101é…é¢    |
| 51-100  | 2æ¬¡ (200é…é¢) | 2æ¬¡ (2é…é¢)   | 202é…é¢    |
| 101-150 | 3æ¬¡ (300é…é¢) | 3æ¬¡ (3é…é¢)   | 303é…é¢    |
| 151-200 | 4æ¬¡ (400é…é¢) | 4æ¬¡ (4é…é¢)   | 404é…é¢    |

> **æ³¨æ„**ï¼šYouTube Data API v3 æ¯æ—¥é…é¢é™åˆ¶ä¸º 10,000 å•ä½

## ğŸ› ï¸ å®‰è£…å’Œé…ç½®

### 1. å®‰è£…ä¾èµ–
```bash
pip install google-api-python-client python-dotenv requests
```

### 2. è·å–APIå¯†é’¥
1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. åˆ›å»ºé¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
3. å¯ç”¨ YouTube Data API v3
4. åˆ›å»ºAPIå¯†é’¥
5. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export YOUTUBE_API_KEY='your_api_key_here'
```

### 3. ä»£ç†é…ç½®ï¼ˆå¯é€‰ï¼‰
å¦‚æœéœ€è¦ä½¿ç”¨ä»£ç†ï¼Œå¯ä»¥è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
```bash
export HTTP_PROXY='http://proxy_host:port'
export HTTPS_PROXY='https://proxy_host:port'
export SOCKS_PROXY='socks5://proxy_host:port'
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬æœç´¢ï¼ˆ25æ¡ç»“æœï¼‰
```python
from youtube_search_webhook import search_youtube_videos

results = search_youtube_videos(
    api_key='your_api_key',
    search_query='Pythonç¼–ç¨‹æ•™ç¨‹',
    max_results=25
)
```

### å¤§é‡ç»“æœæœç´¢ï¼ˆ150æ¡ç»“æœï¼‰
```python
results = search_youtube_videos(
    api_key='your_api_key',
    search_query='æœºå™¨å­¦ä¹ ',
    max_results=150  # å°†è‡ªåŠ¨è¿›è¡Œ3æ¬¡åˆ†é¡µè¯·æ±‚
)

print(f"è·å–åˆ° {len(results)} æ¡ç»“æœ")
```

### é¢‘é“ä¿¡æ¯è·å–
```python
from youtube_search_webhook import get_channel_videos

channel_info = get_channel_videos(
    api_key='your_api_key',
    channel_id='UC_channel_id_here',
    max_results=100
)
```

### è¯„è®ºè·å–
```python
from youtube_search_webhook import get_video_comments

comments = get_video_comments(
    api_key='your_api_key',
    video_id='video_id_here',
    max_results=50
)
```

## ğŸ§ª æµ‹è¯•ç¤ºä¾‹

è¿è¡Œåˆ†é¡µæœç´¢æµ‹è¯•ï¼š
```bash
python example_pagination_search.py
```

è¿™ä¸ªç¤ºä¾‹ä¼šæ¼”ç¤ºï¼š
- ä¸åŒç»“æœæ•°é‡çš„é…é¢æ¶ˆè€—
- åˆ†é¡µæœç´¢çš„å®é™…æ•ˆæœ
- æ€§èƒ½å’Œæˆæœ¬åˆ†æ

## ğŸ“Š è¿”å›æ•°æ®ç»“æ„

### æœç´¢ç»“æœ
æ¯ä¸ªè§†é¢‘åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
- **åŸºæœ¬ä¿¡æ¯**ï¼šæ ‡é¢˜ã€æè¿°ã€å‘å¸ƒæ—¶é—´ã€é¢‘é“ä¿¡æ¯
- **ç»Ÿè®¡æ•°æ®**ï¼šè§‚çœ‹æ•°ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°
- **æŠ€æœ¯å‚æ•°**ï¼šæ—¶é•¿ã€åˆ†è¾¨ç‡ã€éšç§çŠ¶æ€
- **ç¼©ç•¥å›¾**ï¼šå¤šç§å°ºå¯¸çš„ç¼©ç•¥å›¾URL
- **åˆ†ç±»ä¿¡æ¯**ï¼šè§†é¢‘åˆ†ç±»ã€æ ‡ç­¾ã€è¯­è¨€

### é¢‘é“ä¿¡æ¯
- **åŸºæœ¬ä¿¡æ¯**ï¼šé¢‘é“åç§°ã€æè¿°ã€åˆ›å»ºæ—¶é—´
- **ç»Ÿè®¡æ•°æ®**ï¼šè®¢é˜…æ•°ã€è§†é¢‘æ€»æ•°ã€æ€»è§‚çœ‹æ•°
- **åœ°ç†ä¿¡æ¯**ï¼šé¢‘é“å›½å®¶ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
- **è§†é¢‘åˆ—è¡¨**ï¼šé¢‘é“æ‰€æœ‰è§†é¢‘çš„è¯¦ç»†ä¿¡æ¯

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **åˆç†è®¾ç½®ç»“æœæ•°é‡**ï¼šæ ¹æ®å®é™…éœ€æ±‚è®¾ç½® `max_results`ï¼Œé¿å…è¿‡åº¦è·å–
2. **æ‰¹é‡å¤„ç†**ï¼šå¦‚æœéœ€è¦å¤„ç†å¤šä¸ªæŸ¥è¯¢ï¼Œå»ºè®®æ‰¹é‡è¿›è¡Œä»¥å‡å°‘APIè°ƒç”¨é¢‘ç‡
3. **ç¼“å­˜ç»“æœ**ï¼šå¯¹äºé‡å¤æŸ¥è¯¢ï¼Œå»ºè®®å®ç°æœ¬åœ°ç¼“å­˜æœºåˆ¶
4. **ç›‘æ§é…é¢**ï¼šå®šæœŸæ£€æŸ¥APIé…é¢ä½¿ç”¨æƒ…å†µï¼Œé¿å…è¶…é™

## ğŸ”§ é«˜çº§åŠŸèƒ½

### Webhookæ”¯æŒ
æ”¯æŒå°†ç»“æœå‘é€åˆ°æŒ‡å®šçš„webhook URLï¼š
```python
results = search_youtube_videos(
    api_key='your_api_key',
    search_query='æœç´¢å…³é”®è¯',
    max_results=100,
    webhook_url='https://your-webhook-url.com/endpoint'
)
```

### å‘½ä»¤è¡Œä½¿ç”¨
```bash
# æœç´¢è§†é¢‘
python youtube_search_webhook.py search "æœç´¢å…³é”®è¯" --max_results 100

# è·å–é¢‘é“ä¿¡æ¯
python youtube_search_webhook.py channel "é¢‘é“ID" --max_results 50

# è·å–è¯„è®º
python youtube_search_webhook.py comments "è§†é¢‘ID" --max_results 30

# ä½¿ç”¨æ—¶é—´ç­›é€‰æœç´¢è§†é¢‘ (NEW!)
python youtube_search_webhook.py search "æœç´¢å…³é”®è¯" --max_results 100 --published_after "2024-01-01" --published_before "2024-12-31"
```

## ğŸ•’ æ—¶é—´ç­›é€‰åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### å‘½ä»¤è¡Œå‚æ•°
```bash
# æœç´¢2024å¹´å‘å¸ƒçš„è§†é¢‘
python youtube_search_webhook.py search "æœºå™¨å­¦ä¹ " --published_after "2024-01-01" --published_before "2024-12-31"

# æœç´¢æœ€è¿‘30å¤©çš„è§†é¢‘
python youtube_search_webhook.py search "Pythonæ•™ç¨‹" --published_after "2024-11-01"
```

### ç¯å¢ƒå˜é‡è®¾ç½®
```bash
export PUBLISHED_AFTER="2024-01-01"
export PUBLISHED_BEFORE="2024-12-31"
python youtube_search_webhook.py search "æœç´¢å…³é”®è¯"
```

### æ”¯æŒçš„æ—¶é—´æ ¼å¼
- `YYYY-MM-DD`ï¼šå¦‚ `2024-01-01`
- `YYYY-MM-DD HH:MM:SS`ï¼šå¦‚ `2024-01-01 12:00:00`
- ISO 8601æ ¼å¼ï¼šå¦‚ `2024-01-01T12:00:00Z`

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒï¼š[TIME_FILTER_USAGE.md](TIME_FILTER_USAGE.md)

## ğŸŒ HTTP APIè°ƒç”¨

### å¿«é€Ÿå¼€å§‹
1. è·å–GitHub Personal Access Token
2. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   ```bash
   export GITHUB_TOKEN="your_github_token"
   export GITHUB_REPO="username/repository"
   ```

3. ä½¿ç”¨Pythonè„šæœ¬è°ƒç”¨ï¼š
   ```python
   python trigger_action_example.py
   ```

### APIç«¯ç‚¹
```
POST https://api.github.com/repos/{owner}/{repo}/dispatches
```

### æ”¯æŒçš„äº‹ä»¶ç±»å‹
- `youtube-search`ï¼šè§†é¢‘æœç´¢
- `youtube-comments`ï¼šè¯„è®ºè·å–  
- `youtube-channel`ï¼šé¢‘é“è§†é¢‘è·å–

### ä½¿ç”¨ç¤ºä¾‹

#### cURLè°ƒç”¨
```bash
curl -X POST \
  -H "Authorization: token YOUR_GITHUB_TOKEN" \
  -H "Accept: application/vnd.github.v3+json" \
  https://api.github.com/repos/USERNAME/REPO/dispatches \
  -d '{
    "event_type": "youtube-search",
    "client_payload": {
      "search_query": "æœºå™¨å­¦ä¹ ",
      "max_results": 50,
      "published_after": "2024-01-01",
      "published_before": "2024-12-31"
    }
  }'
```

#### Pythonè°ƒç”¨
```python
import requests

def trigger_youtube_search(token, repo, query, max_results=50, published_after=None, published_before=None):
    url = f"https://api.github.com/repos/{repo}/dispatches"
    headers = {
        "Authorization": f"token {token}",
        "Accept": "application/vnd.github.v3+json"
    }
    
    payload = {
        "event_type": "youtube-search",
        "client_payload": {
            "search_query": query,
            "max_results": max_results
        }
    }
    
    if published_after:
        payload["client_payload"]["published_after"] = published_after
    if published_before:
        payload["client_payload"]["published_before"] = published_before
    
    response = requests.post(url, json=payload, headers=headers)
    return response.status_code == 204
```

è¯¦ç»†APIä½¿ç”¨è¯´æ˜è¯·å‚è€ƒï¼š[HTTP_API_USAGE.md](HTTP_API_USAGE.md)

## ğŸ“ æ›´æ–°æ—¥å¿—

### v3.0.0 (æœ€æ–°)
- âœ¨ **æ–°å¢**ï¼šæ—¶é—´ç­›é€‰åŠŸèƒ½ï¼Œæ”¯æŒæŒ‰å‘å¸ƒæ—¶é—´èŒƒå›´æœç´¢è§†é¢‘
- âœ¨ **æ–°å¢**ï¼šHTTP APIè°ƒç”¨æ”¯æŒï¼Œå¯è¿œç¨‹è§¦å‘GitHub Actions
- âœ¨ **æ–°å¢**ï¼šå‘½ä»¤è¡Œæ—¶é—´å‚æ•° `--published_after` å’Œ `--published_before`
- âœ¨ **æ–°å¢**ï¼šç¯å¢ƒå˜é‡æ—¶é—´é…ç½®æ”¯æŒ
- ğŸ“š **æ–°å¢**ï¼šè¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£å’ŒAPIè°ƒç”¨ç¤ºä¾‹
- ğŸ”§ **ä¼˜åŒ–**ï¼šGitHub Actionså·¥ä½œæµæ”¯æŒæ›´å¤šè§¦å‘æ–¹å¼

### v2.0.0
- âœ¨ **æ–°å¢**ï¼šåˆ†é¡µæœç´¢åŠŸèƒ½ï¼Œçªç ´50æ¡ç»“æœé™åˆ¶
- âœ¨ **æ–°å¢**ï¼šé¢‘é“å›½å®¶ä¿¡æ¯æ”¯æŒ
- ğŸ”§ **ä¼˜åŒ–**ï¼šAPIé…é¢ä½¿ç”¨é€æ˜åŒ–
- ğŸ”§ **ä¼˜åŒ–**ï¼šæ‰¹é‡å¤„ç†è§†é¢‘è¯¦æƒ…è·å–
- ğŸ“Š **æ”¹è¿›**ï¼šå®æ—¶æ˜¾ç¤ºé…é¢æ¶ˆè€—æƒ…å†µ

### v1.0.0
- ğŸ‰ åŸºç¡€æœç´¢åŠŸèƒ½
- ğŸ“º é¢‘é“ä¿¡æ¯è·å–
- ğŸ’¬ è¯„è®ºæ•°æ®è·å–
- ğŸŒ ä»£ç†æ”¯æŒ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- [YouTube Data API v3 æ–‡æ¡£](https://developers.google.com/youtube/v3)
- [Google Cloud Console](https://console.cloud.google.com/)
- [APIé…é¢å’Œé™åˆ¶](https://developers.google.com/youtube/v3/getting-started#quota)